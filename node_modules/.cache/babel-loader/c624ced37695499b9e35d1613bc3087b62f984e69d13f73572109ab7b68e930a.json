{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nconst Util_1 = require(\"./Util\");\nconst Context_1 = require(\"./Context\");\nconst Global_1 = require(\"./Global\");\nlet _pixelRatio;\nfunction getDevicePixelRatio() {\n  if (_pixelRatio) {\n    return _pixelRatio;\n  }\n  const canvas = Util_1.Util.createCanvasElement();\n  const context = canvas.getContext('2d');\n  _pixelRatio = function () {\n    const devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1,\n      backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n    return devicePixelRatio / backingStoreRatio;\n  }();\n  Util_1.Util.releaseCanvas(canvas);\n  return _pixelRatio;\n}\nclass Canvas {\n  constructor(config) {\n    this.pixelRatio = 1;\n    this.width = 0;\n    this.height = 0;\n    this.isCache = false;\n    const conf = config || {};\n    const pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n    this.pixelRatio = pixelRatio;\n    this._canvas = Util_1.Util.createCanvasElement();\n    this._canvas.style.padding = '0';\n    this._canvas.style.margin = '0';\n    this._canvas.style.border = '0';\n    this._canvas.style.background = 'transparent';\n    this._canvas.style.position = 'absolute';\n    this._canvas.style.top = '0';\n    this._canvas.style.left = '0';\n  }\n  getContext() {\n    return this.context;\n  }\n  getPixelRatio() {\n    return this.pixelRatio;\n  }\n  setPixelRatio(pixelRatio) {\n    const previousRatio = this.pixelRatio;\n    this.pixelRatio = pixelRatio;\n    this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n  }\n  setWidth(width) {\n    this.width = this._canvas.width = width * this.pixelRatio;\n    this._canvas.style.width = width + 'px';\n    const pixelRatio = this.pixelRatio,\n      _context = this.getContext()._context;\n    _context.scale(pixelRatio, pixelRatio);\n  }\n  setHeight(height) {\n    this.height = this._canvas.height = height * this.pixelRatio;\n    this._canvas.style.height = height + 'px';\n    const pixelRatio = this.pixelRatio,\n      _context = this.getContext()._context;\n    _context.scale(pixelRatio, pixelRatio);\n  }\n  getWidth() {\n    return this.width;\n  }\n  getHeight() {\n    return this.height;\n  }\n  setSize(width, height) {\n    this.setWidth(width || 0);\n    this.setHeight(height || 0);\n  }\n  toDataURL(mimeType, quality) {\n    try {\n      return this._canvas.toDataURL(mimeType, quality);\n    } catch (e) {\n      try {\n        return this._canvas.toDataURL();\n      } catch (err) {\n        Util_1.Util.error('Unable to get data URL. ' + err.message + ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n        return '';\n      }\n    }\n  }\n}\nexports.Canvas = Canvas;\nclass SceneCanvas extends Canvas {\n  constructor(config = {\n    width: 0,\n    height: 0,\n    willReadFrequently: false\n  }) {\n    super(config);\n    this.context = new Context_1.SceneContext(this, {\n      willReadFrequently: config.willReadFrequently\n    });\n    this.setSize(config.width, config.height);\n  }\n}\nexports.SceneCanvas = SceneCanvas;\nclass HitCanvas extends Canvas {\n  constructor(config = {\n    width: 0,\n    height: 0\n  }) {\n    super(config);\n    this.hitCanvas = true;\n    this.context = new Context_1.HitContext(this);\n    this.setSize(config.width, config.height);\n  }\n}\nexports.HitCanvas = HitCanvas;","map":{"version":3,"names":["Object","defineProperty","exports","value","HitCanvas","SceneCanvas","Canvas","Util_1","require","Context_1","Global_1","_pixelRatio","getDevicePixelRatio","canvas","Util","createCanvasElement","context","getContext","devicePixelRatio","Konva","_global","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","releaseCanvas","constructor","config","pixelRatio","width","height","isCache","conf","_canvas","style","padding","margin","border","background","position","top","left","getPixelRatio","setPixelRatio","previousRatio","setSize","getWidth","getHeight","setWidth","_context","scale","setHeight","toDataURL","mimeType","quality","e","err","error","message","willReadFrequently","SceneContext","hitCanvas","HitContext"],"sources":["C:/Users/tharu/Downloads/mini-layout-editor/mini-layout-editor/node_modules/konva/lib/Canvas.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nconst Util_1 = require(\"./Util\");\nconst Context_1 = require(\"./Context\");\nconst Global_1 = require(\"./Global\");\nlet _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    const canvas = Util_1.Util.createCanvasElement();\n    const context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        const devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    Util_1.Util.releaseCanvas(canvas);\n    return _pixelRatio;\n}\nclass Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        const conf = config || {};\n        const pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util_1.Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        const previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        const pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        const pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util_1.Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nexports.Canvas = Canvas;\nclass SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0, willReadFrequently: false }) {\n        super(config);\n        this.context = new Context_1.SceneContext(this, {\n            willReadFrequently: config.willReadFrequently,\n        });\n        this.setSize(config.width, config.height);\n    }\n}\nexports.SceneCanvas = SceneCanvas;\nclass HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new Context_1.HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexports.HitCanvas = HitCanvas;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,SAAS,GAAGF,OAAO,CAACG,WAAW,GAAGH,OAAO,CAACI,MAAM,GAAG,KAAK,CAAC;AACjE,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMC,SAAS,GAAGD,OAAO,CAAC,WAAW,CAAC;AACtC,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAU,CAAC;AACpC,IAAIG,WAAW;AACf,SAASC,mBAAmBA,CAAA,EAAG;EAC3B,IAAID,WAAW,EAAE;IACb,OAAOA,WAAW;EACtB;EACA,MAAME,MAAM,GAAGN,MAAM,CAACO,IAAI,CAACC,mBAAmB,CAAC,CAAC;EAChD,MAAMC,OAAO,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;EACvCN,WAAW,GAAI,YAAY;IACvB,MAAMO,gBAAgB,GAAGR,QAAQ,CAACS,KAAK,CAACC,OAAO,CAACF,gBAAgB,IAAI,CAAC;MAAEG,iBAAiB,GAAGL,OAAO,CAACM,4BAA4B,IAC3HN,OAAO,CAACO,yBAAyB,IACjCP,OAAO,CAACQ,wBAAwB,IAChCR,OAAO,CAACS,uBAAuB,IAC/BT,OAAO,CAACU,sBAAsB,IAC9B,CAAC;IACL,OAAOR,gBAAgB,GAAGG,iBAAiB;EAC/C,CAAC,CAAE,CAAC;EACJd,MAAM,CAACO,IAAI,CAACa,aAAa,CAACd,MAAM,CAAC;EACjC,OAAOF,WAAW;AACtB;AACA,MAAML,MAAM,CAAC;EACTsB,WAAWA,CAACC,MAAM,EAAE;IAChB,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,MAAMC,IAAI,GAAGL,MAAM,IAAI,CAAC,CAAC;IACzB,MAAMC,UAAU,GAAGI,IAAI,CAACJ,UAAU,IAAIpB,QAAQ,CAACS,KAAK,CAACW,UAAU,IAAIlB,mBAAmB,CAAC,CAAC;IACxF,IAAI,CAACkB,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACK,OAAO,GAAG5B,MAAM,CAACO,IAAI,CAACC,mBAAmB,CAAC,CAAC;IAChD,IAAI,CAACoB,OAAO,CAACC,KAAK,CAACC,OAAO,GAAG,GAAG;IAChC,IAAI,CAACF,OAAO,CAACC,KAAK,CAACE,MAAM,GAAG,GAAG;IAC/B,IAAI,CAACH,OAAO,CAACC,KAAK,CAACG,MAAM,GAAG,GAAG;IAC/B,IAAI,CAACJ,OAAO,CAACC,KAAK,CAACI,UAAU,GAAG,aAAa;IAC7C,IAAI,CAACL,OAAO,CAACC,KAAK,CAACK,QAAQ,GAAG,UAAU;IACxC,IAAI,CAACN,OAAO,CAACC,KAAK,CAACM,GAAG,GAAG,GAAG;IAC5B,IAAI,CAACP,OAAO,CAACC,KAAK,CAACO,IAAI,GAAG,GAAG;EACjC;EACA1B,UAAUA,CAAA,EAAG;IACT,OAAO,IAAI,CAACD,OAAO;EACvB;EACA4B,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACd,UAAU;EAC1B;EACAe,aAAaA,CAACf,UAAU,EAAE;IACtB,MAAMgB,aAAa,GAAG,IAAI,CAAChB,UAAU;IACrC,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACiB,OAAO,CAAC,IAAI,CAACC,QAAQ,CAAC,CAAC,GAAGF,aAAa,EAAE,IAAI,CAACG,SAAS,CAAC,CAAC,GAAGH,aAAa,CAAC;EACnF;EACAI,QAAQA,CAACnB,KAAK,EAAE;IACZ,IAAI,CAACA,KAAK,GAAG,IAAI,CAACI,OAAO,CAACJ,KAAK,GAAGA,KAAK,GAAG,IAAI,CAACD,UAAU;IACzD,IAAI,CAACK,OAAO,CAACC,KAAK,CAACL,KAAK,GAAGA,KAAK,GAAG,IAAI;IACvC,MAAMD,UAAU,GAAG,IAAI,CAACA,UAAU;MAAEqB,QAAQ,GAAG,IAAI,CAAClC,UAAU,CAAC,CAAC,CAACkC,QAAQ;IACzEA,QAAQ,CAACC,KAAK,CAACtB,UAAU,EAAEA,UAAU,CAAC;EAC1C;EACAuB,SAASA,CAACrB,MAAM,EAAE;IACd,IAAI,CAACA,MAAM,GAAG,IAAI,CAACG,OAAO,CAACH,MAAM,GAAGA,MAAM,GAAG,IAAI,CAACF,UAAU;IAC5D,IAAI,CAACK,OAAO,CAACC,KAAK,CAACJ,MAAM,GAAGA,MAAM,GAAG,IAAI;IACzC,MAAMF,UAAU,GAAG,IAAI,CAACA,UAAU;MAAEqB,QAAQ,GAAG,IAAI,CAAClC,UAAU,CAAC,CAAC,CAACkC,QAAQ;IACzEA,QAAQ,CAACC,KAAK,CAACtB,UAAU,EAAEA,UAAU,CAAC;EAC1C;EACAkB,QAAQA,CAAA,EAAG;IACP,OAAO,IAAI,CAACjB,KAAK;EACrB;EACAkB,SAASA,CAAA,EAAG;IACR,OAAO,IAAI,CAACjB,MAAM;EACtB;EACAe,OAAOA,CAAChB,KAAK,EAAEC,MAAM,EAAE;IACnB,IAAI,CAACkB,QAAQ,CAACnB,KAAK,IAAI,CAAC,CAAC;IACzB,IAAI,CAACsB,SAAS,CAACrB,MAAM,IAAI,CAAC,CAAC;EAC/B;EACAsB,SAASA,CAACC,QAAQ,EAAEC,OAAO,EAAE;IACzB,IAAI;MACA,OAAO,IAAI,CAACrB,OAAO,CAACmB,SAAS,CAACC,QAAQ,EAAEC,OAAO,CAAC;IACpD,CAAC,CACD,OAAOC,CAAC,EAAE;MACN,IAAI;QACA,OAAO,IAAI,CAACtB,OAAO,CAACmB,SAAS,CAAC,CAAC;MACnC,CAAC,CACD,OAAOI,GAAG,EAAE;QACRnD,MAAM,CAACO,IAAI,CAAC6C,KAAK,CAAC,0BAA0B,GACxCD,GAAG,CAACE,OAAO,GACX,yEAAyE,CAAC;QAC9E,OAAO,EAAE;MACb;IACJ;EACJ;AACJ;AACA1D,OAAO,CAACI,MAAM,GAAGA,MAAM;AACvB,MAAMD,WAAW,SAASC,MAAM,CAAC;EAC7BsB,WAAWA,CAACC,MAAM,GAAG;IAAEE,KAAK,EAAE,CAAC;IAAEC,MAAM,EAAE,CAAC;IAAE6B,kBAAkB,EAAE;EAAM,CAAC,EAAE;IACrE,KAAK,CAAChC,MAAM,CAAC;IACb,IAAI,CAACb,OAAO,GAAG,IAAIP,SAAS,CAACqD,YAAY,CAAC,IAAI,EAAE;MAC5CD,kBAAkB,EAAEhC,MAAM,CAACgC;IAC/B,CAAC,CAAC;IACF,IAAI,CAACd,OAAO,CAAClB,MAAM,CAACE,KAAK,EAAEF,MAAM,CAACG,MAAM,CAAC;EAC7C;AACJ;AACA9B,OAAO,CAACG,WAAW,GAAGA,WAAW;AACjC,MAAMD,SAAS,SAASE,MAAM,CAAC;EAC3BsB,WAAWA,CAACC,MAAM,GAAG;IAAEE,KAAK,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC,EAAE;IAC1C,KAAK,CAACH,MAAM,CAAC;IACb,IAAI,CAACkC,SAAS,GAAG,IAAI;IACrB,IAAI,CAAC/C,OAAO,GAAG,IAAIP,SAAS,CAACuD,UAAU,CAAC,IAAI,CAAC;IAC7C,IAAI,CAACjB,OAAO,CAAClB,MAAM,CAACE,KAAK,EAAEF,MAAM,CAACG,MAAM,CAAC;EAC7C;AACJ;AACA9B,OAAO,CAACE,SAAS,GAAGA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}